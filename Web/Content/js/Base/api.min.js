define(["require","exports","jQuery"],function(n,t,i){function u(n,i,r,u,f,e){return t.Call("GET",n,i,r,u,f,e)}function f(n,i,r,u,f,e){return t.Call("POST",n,i,r,u,f,e)}function e(n,i,u,f,e,o,s){return f&&f(!0),r.ajax(r.extend(s||{},{type:n,url:t.AbsoluteUrl(i),data:u})).fail(function(n){return e&&e.notifySubscribers(n.statusText)}).done(function(n){return n.Success?o&&o(n.Result):e&&e.notifySubscribers((n.Messages||[]).join())}).always(function(){return f&&f(!1)})}function o(n){return n&&n[0]=="/"&&(n=n.substring(1)),t.RootUrl+n}var r=i;t.Get=u,t.Post=f,t.Call=e,t.AbsoluteUrl=o,t.RootUrl=function(n){return typeof n!="string"||!n.length?"/":n[n.length]=="/"?n:n+"/"}})