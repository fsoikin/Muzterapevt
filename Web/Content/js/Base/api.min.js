define(["require","exports","jQuery","RootUrl"],function(n,t,i,r){function e(n,i,r,u,f,e){return t.Call("GET",n,i,r,u,f,e)}function o(n,i,r,u,f,e){return t.Call("POST",n,i,r,u,f,e)}function s(n,i,r,f,e,o,s){return f&&f(!0),u.ajax(u.extend(s||{},{type:n,url:t.AbsoluteUrl(i),data:r,contentType:"application/json"})).fail(function(n){return e&&e.notifySubscribers(n.statusText)}).done(function(n){return n.Success?o&&o(n.Result):e&&e.notifySubscribers((n.Messages||[]).join())}).always(function(){return f&&f(!1)})}function h(n){return n&&n[0]=="/"&&(n=n.substring(1)),t.RootUrl+n}var u=i,f;t.Get=e,t.Post=o,t.Call=s,t.AbsoluteUrl=h,f=r,t.RootUrl=function(n){return typeof n!="string"||!n.length?"/":n[n.length-1]=="/"?n:n+"/"}(f)})