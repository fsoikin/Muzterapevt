define(["require","exports","ko"],function(n,t,i){function e(n,t){var i=(n||"").split(",");if(i.length==1&&(i=["",i[0]]),i.length!=2)return console.warn("Invalid autobind controller specification: "+n),null;if(typeof t=="string")try{t=new Function("return ("+t+");")()}catch(r){}return{Module:i[1].trim(),Class:i[0].trim(),Arguments:t}}function o(n){return t.bindMany([n])[0]}function s(n){return n=n||[],n.map(function(n){var t=r.observable(null);return n&&u([n.Module],function(i){return t(f(i,n))}),t})}function h(n){if(!n)return r.observableArray();var t=r.observableArray();return u(n.map(function(n){return n.Module}),function(){t(r.utils.makeArray(arguments).map(function(t,i){return f(t,n[i])}))}),t}function f(n,t){var i=t.Class?c(n,t.Class):n;if(!i)throw new Error("Cannot find class '"+t.Class+"' in module '"+t.Module+"'.");return t.Arguments!==undefined&&t.Arguments!==null&&(i=Function.prototype.bind.apply(i,Array.isArray(t.Arguments)?[null].concat(t.Arguments):[null,t.Arguments])),new i}function c(n,t){return t.split(".").reduce(function(n,t){return n[t]},n)}var r=i,u;t.parse=e,t.bind=o,t.bindMany=s,t.bindAll=h,u=function(){var t={};return function(i,r){var f=this,u=i.map(function(n){return t[n]});u.every(function(n){return n})?r.apply(this,u):n(i,function(){var n=arguments;i.every(function(i,r){return t[i]=u[r]=n[r]}),r.apply(f,u)})}}()})