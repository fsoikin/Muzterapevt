define(["require","exports","ko","./dynamic","jQuery","rx"],function(n,t,i,r,u,f){function l(n,i){return i=e.extend({},s,i),n.each(function(){var n=e(this);t.autobind(i.getClassRef(n,i),n)})}function a(n,t,i){o.bind(n).asRx().where(function(n){return!!n}).subscribe(function(n){var r=n.constructor&&n.constructor.Template,u=e.isFunction(t)?t():e(t);typeof n.OnLoaded=="function"?n.OnLoaded(u[0]):(typeof r=="function"&&(r=r()),typeof r=="string"?u.html(r):r instanceof e&&u.empty().append(r),h.applyBindings(n,u[0])),i&&i(u,n)})}var h=i,o=r,e=u,c=f,s;(function(){return c})(),s={controllerKey:"controller",argumentsKey:"args",getClassRef:function(n,t){return o.parse(n.data(t.controllerKey),n.data(t.argumentsKey))}},t.autobindAll=l,t.autobind=a})